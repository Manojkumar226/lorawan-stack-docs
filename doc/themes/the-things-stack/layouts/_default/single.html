{{ define "main" }}
{{ if eq .Page.File.Ext "html" }}
{{ .Content }}
{{ else }}
<div class="docs-content">
<h1 class="title is-size-2">{{ .Title }}
	{{ with .Params.new_in_version }}
		{{ partial "new-in-version" . }}
	{{ end }}
	{{ with .Params.deprecated_in_version }}
		{{ partial "deprecated-in-version" .}}
	{{ end }}
</h1>

<div class="content">
	{{ $context := . }}
	{{ with .Params.distributions }}
		{{ $distributions := .}}
		{{ if ( not ( reflect.IsSlice . ) ) }}
			{{ $distributions = slice $distributions }}
		{{ end }}
		{{ partial "distributions" (dict "context" $context  "distributions" $distributions) }}
	{{ end }}
	{{ .Content }}
</div>
{{ partial "prev-next-in-section" . }}
{{ partial "feedback" . }}
</div>
{{ end }}
{{ end }}
